<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>SVERGA. Nuevo Usuario</title>
  <link href="CSS/_main.css" rel="stylesheet" />
  <link href="CSS/bootstrap.css" rel="stylesheet" />
  <div class="contenedor">
    <div class="mb-3">
      <img src="pics/pedrosverga.png" alt="SVERGA" class="centrado" style="width:750px" figure>
    </div>
</head>

<body class="body1" body style="background-color:#4fbba9;">

  <!------------------------PRIMERA DIVISIÓN EN 3 COLUMNAS------------------------>
  <div class="container text-center">
    <div class="row">
      <div class="col"></div>
      <div class="col"></div>
      <div class="col">
        <div class="input-group flex-nowrap">
          <input class="form-control" type="text" value="Usuario: " aria-label="Id." disabled readonly>
        </div>
        </br>
        <div class="input-group flex-nowrap">
          <input class="form-control" type="text" value="Rol: " aria-label="Id." disabled readonly>
        </div>
        </br>
      </div>
    </div>
  </div>

  <!------------------------SEGUNDA DIVISIÓN EN 3 COLUMNAS------------------------>
  <div class="container text-center">
    <div class="row">

      <!------------------------COLUMNA DE LA IZQUIERDA------------------------>
      <div class="col">

        <!-- La línea a continuación establece el borde-->
        <div class="recuadro_admin_izquierda">

          <!--Botones columna de la izquierda-->
          <button type="button" class="btn btn-primary">Editar Aulas</button>
          </br>
          </br>
          <button type="button" class="btn btn-primary">Editar Horarios</button>
          </br>
          </br>
          <button type="button" class="btn btn-primary">Primary</button>
          </br>
          </br>
          <button type="button" class="btn btn-primary">Primary</button>
          </br>
          </br>
          <button type="button" class="btn btn-primary">Primary</button>
          </br>
          </br>

          <!--Ventana emergente para cierre de sesión-->
          <button type="button" class="btn btn-danger" onclick="window.modal.showModal();">Cerrar Sesión</button>
          <dialog id="modal">
            <h2>¿Está seguro de que desea cerrar la sesión?</h2>
            <p>NOTA: Dejar este texto aquí por si hubiera que añadir algo después</p>
            <button type="button" class="btn btn-primary" onclick="window.modal.close();">No, mantener la sesión
              abierta</button>
            <button type="button" class="btn btn-danger">Sí, cerrar la sesión</button>
          </dialog>
        </div>
      </div>

      <!------------------------COLUMNA CENTRAL------------------------>
      <div class="col">

        <div class="recuadro_admin_central">

          <!--Título del formulario-->
          <h1>Nuevo Usuario</h1>

          <!--Id -Esta clase es diferente porque la ID a mostrar debería obtenerse de la base de datos al ser autoincrementable-->
          <div class="input-group flex-nowrap">
            <input class="form-control" type="text" value="Id." aria-label="Id." disabled readonly>
          </div>
          <br />

          <!--Nombre-->
          <div class="form-floating mb-3">
            <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
            <label for="floatingInput">Nombre</label>
          </div>
          </br>

          <!--Apellido 1-->
          <div class="form-floating mb-3" padding=25px>
            <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
            <label for="floatingInput">Apellido 1</label>
          </div>
          </br>

          <!--Apellido 2-->
          <div class="form-floating mb-3">
            <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
            <label for="floatingInput">Apellido 2</label>
          </div>
          </br>

          <!--Email-->
          <div class="form-floating mb-3">
            <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
            <label for="floatingInput">Email</label>
          </div>
          <br>

          <!--Teléfono-->
          <div class="form-floating mb-3">
            <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
            <label for="floatingInput">Teléfono</label>
          </div>
          </br>

          <!--Lista desplegable de empleos-->
          <div class="form-floating">
            <select class="form-select" id="floatingSelectDisabled" aria-label="Floating label disabled select example"
              enabled>
              <option selected></option>
              <option value="1">Civil</option>
              <option value="2">Marinero</option>
              <option value="3">Cabo</option>
              <option value="4">Cabo Primero</option>
              <option value="5">Cabo Mayor</option>
              <option value="6">Sargento</option>
              <option value="7">Sargento Primero</option>
              <option value="8">Brigada</option>
              <option value="9">Subteniente</option>
              <option value="10">Suboficial Mayor</option>
              <option value="11">Alférez de Navío</option>
              <option value="12">Teniente de Navío</option>
              <option value="13">Capitán de Corbeta</option>
              <option value="14">Capitán de Fragata</option>
              <option value="15">Capitán de Navío</option>
            </select>
            <label for="floatingSelectDisabled">Empleo</label>
          </div>
          <br>

          <!--Lista desplegable de roles-->
          <div class="form-floating">
            <select class="form-select" id="casilla_7" aria-label="Floating label select example">
              <option selected></option>
              <option value="1">Profesor</option>
              <option value="2">Coordinador</option>
              <option value="3">Administrador</option>
            </select>
            <label for="roleSelect">Rol</label>
          </div>
          </br>

          <!--Lista desplegable de departamentos SÓLO DISPONIBLE CUANDO SE SELECCIONA EL ROL DE PROFESOR-->
          <div class="form-floating">
            <select class="form-select" id="casilla_8" aria-label="Floating label select example" disabled>
              <option selected></option>
              <option value="1">Dpto. 1</option>
              <option value="2">Dpto. 2</option>
              <option value="3">Dpto. 3</option>
            </select>
            <label for="departmentSelect">Departamento</label>
          </div>
          </br>

          <!--El siguiente script inhabilita la casilla de DEPARTAMENTO y la habilita únicamente
          cuando se selecciona el rol de profesor en la casilla anterior. También vacía la casilla
          DEPARTAMENTO cuando deseleccionamos el rol de Profesor-->
          <script>
            const roleSelect = document.getElementById("casilla_7");
            const departmentSelect = document.getElementById("casilla_8");

            roleSelect.addEventListener("change", function () {
              if (roleSelect.value === "1") {
                departmentSelect.disabled = false;
              } else {
                departmentSelect.disabled = true;
                departmentSelect.value = "";
              }
            });
          </script>

          <!--Script para generar una contraseña aleatoria de longitud 10-->
          <script>
            function generar_password() {
              const characters = "abcdefghijklmnñopqrstuvwxyzABCDEFGHIJKLMNÑOPQRSTUVWXYZ0123456789!@#$%^&*()";
              const passwordLength = 10;
              let password = "";

              for (let i = 0; i < passwordLength; i++) {
                const randomIndex = Math.floor(Math.random() * characters.length);
                password += characters.charAt(randomIndex);
              }

              const passwordTextBox = document.getElementById("mostrar_password");
              passwordTextBox.value = password;
            }
          </script>

          <!--La contraseña generada se muestra en el siguiente textbox-->
          <div class="form-floating mb-3">
            <input type="email" class="form-control" id="mostrar_password" placeholder="name@example.com">
            <label for="floatingInput">Contraseña</label>
          </div>

          <!--El script de la contraseña se inicia con el siguiente botón-->
          <button type="button" class="btn btn-primary" id="boton_generar" onclick="generar_password()">Generar
            Contraseña</button>
          </br>
          </br>

          <!--Guardar datos en la BD-->
          <button type="button" class="btn btn-primary">Dar de alta</button>

          <!--Borrar formulario. Aparece una ventana de confirmación-->
          <button type="button" class="btn btn-danger" onclick="window.modal2.showModal();">Borrar datos</button>
          <dialog id="modal2">
            <h2>¿Está seguro de que desea borrar los datos?</h2>
            <p>NOTA: Dejar este texto aquí por si hubiera que añadir algo después</p>
            <button type="button" class="btn btn-primary" onclick="window.modal2.close();">No, mantener los
              datos</button>
            <button onclick="actualizapagina()" type="button" class="btn btn-danger">Sí, borrar todo</button>
          </dialog>
          <script>

            function actualizapagina() {
              //Recarga la página, por lo que cualquier contenido en las cajas aparecerá vacío
              location.reload();
            }
          </script>

        </div>
      </div>
      </br>
      </br>

      <!------------------------COLUMNA DE LA DERECHA------------------------>
      <div class="col">
      </div>
    </div>
  </div>
</body>

</html>